{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "update_estimate API Request (ZOHOBOOKS)",
  "description": "Schema for update_estimate - extracted from zohobooks OpenAPI spec",
  "type": "object",
  "properties": {
    "customer_id": {
      "description": "Search estimates by customer id..",
      "type": "string"
    },
    "currency_id": {
      "description": "The id of the customer",
      "type": "string"
    },
    "contact_persons": {
      "description": "Array if contact person(S) for whom estimate has to be sent.",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "template_id": {
      "description": "ID of the pdf template associated with the estimate.",
      "type": "string"
    },
    "place_of_supply": {
      "description": "Place where the goods/services are supplied to. (If not given, <code>place of contact</code> given for the contact will be taken)<br/>Supported codes for UAE emirates are : </br>Abu Dhabi - <code>AB</code>,</br>Ajman - <code>AJ</code>,</br>Dubai - <code>DU</code>,</br>Fujairah - <code>FU</code>,</br>Ras al-Khaimah - <code>RA</code>,</br>Sharjah - <code>SH</code>,</br>Umm al-Quwain - <code>UM</code><br/>Supported codes for the GCC countries are : </br>United Arab Emirates - <code>AE</code>,</br>Saudi Arabia - <code>SA</code>,</br>Bahrain - <code>BH</code>,</br>Kuwait - <code>KW</code>,</br>Oman - <code>OM</code>,</br>Qatar - <code>QA</code>.",
      "type": "string"
    },
    "gst_treatment": {
      "description": "Choose whether the contact is GST registered/unregistered/consumer/overseas. Allowed values are <code> business_gst </code> , <code> business_none </code> , <code> overseas </code> , <code> consumer </code>.",
      "type": "string"
    },
    "gst_no": {
      "description": "15 digit GST identification number of the customer.",
      "type": "string"
    },
    "estimate_number": {
      "description": "Search estimates by estimate number.Variants<code>estimate_number_startswith</code> and <code>estimate_number_contains</code>",
      "type": "string"
    },
    "reference_number": {
      "description": "Search estimates by reference number.Variants <code>reference_number_startswith</code> and <code>reference_number_contains</code>",
      "type": "string"
    },
    "date": {
      "description": "Search estimates by estimate date.Variants <code>date_start</code>, <code>date_end</code>, <code>date_before</code> and <code>date_after</code>",
      "type": "string"
    },
    "expiry_date": {
      "description": "The date of expiration of the estimates",
      "type": "string"
    },
    "exchange_rate": {
      "description": "Exchange rate of the currency.",
      "type": "number",
      "format": "double"
    },
    "discount": {
      "description": "Discount applied to the invoice. It can be either in % or in amount. e.g. 12.5% or 190.",
      "type": "number",
      "format": "double"
    },
    "is_discount_before_tax": {
      "description": "Used to specify how the discount has to applied. Either before or after the calculation of tax.",
      "type": "boolean"
    },
    "discount_type": {
      "description": "How the discount is specified. Allowed values are entity_level or item_level.Allowed Values: <code>entity_level</code> and <code>item_level</code>",
      "type": "string"
    },
    "is_inclusive_tax": {
      "description": "Used to specify whether the line item rates are inclusive or exclusive of tax.",
      "type": "boolean"
    },
    "custom_body": {
      "type": "string"
    },
    "custom_subject": {
      "type": "string"
    },
    "salesperson_name": {
      "description": "Name of the sales person.",
      "type": "string"
    },
    "custom_fields": {
      "description": "Custom fields for an estimate.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "index": {
            "type": "integer"
          },
          "value": {
            "type": "string"
          }
        }
      }
    },
    "line_items": {
      "description": "Line items of an estimate.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "item_id": {
            "description": "ID of the item.",
            "type": "string"
          },
          "line_item_id": {
            "description": "ID of the line item. Mandatory, if the existing line item has to be updated. If empty, a new line item will be created.",
            "type": "string"
          },
          "name": {
            "description": "The name of the line item",
            "type": "string"
          },
          "description": {
            "description": "The description of the line items",
            "type": "string"
          },
          "product_type": {
            "description": "Enter <code>goods</code> or <code>services</code> .<br/><b>For SouthAfrica Edition:</b> <code>service</code>, <code>goods</code>, <code>capital_service</code> and <code>capital_goods</code>",
            "type": "string"
          },
          "hsn_or_sac": {
            "description": "Add HSN/SAC code for your goods/services",
            "type": "string"
          },
          "sat_item_key_code": {
            "description": "Add SAT Item Key Code for your goods/services. Download the <a href= http://omawww.sat.gob.mx/tramitesyservicios/Paginas/documentos/catCFDI_V_4_07122022.xls  >CFDI Catalogs.</a>",
            "type": "string"
          },
          "unitkey_code": {
            "description": "Add SAT Unit Key Code for your goods/services. Download the <a href= http://omawww.sat.gob.mx/tramitesyservicios/Paginas/documentos/catCFDI_V_4_07122022.xls  >CFDI Catalogs.</a>",
            "type": "string"
          },
          "item_order": {
            "description": "The order of the line item_order",
            "type": "integer"
          },
          "bcy_rate": {
            "description": "base currency rate",
            "type": "number",
            "format": "float"
          },
          "rate": {
            "description": "Rate of the line item.",
            "type": "number",
            "format": "double"
          },
          "quantity": {
            "description": "The quantity of line item",
            "type": "number",
            "format": "double"
          },
          "unit": {
            "description": "Unit of the line item e.g. kgs, Nos.",
            "type": "string"
          },
          "discount_amount": {
            "description": "The discount amount on the line item",
            "type": "number",
            "format": "float"
          },
          "discount": {
            "description": "Discount applied to the invoice. It can be either in % or in amount. e.g. 12.5% or 190.",
            "type": "number",
            "format": "double"
          },
          "tax_id": {
            "description": "ID of the tax or tax group applied to the estimate",
            "type": "string"
          },
          "tds_tax_id": {
            "description": "ID of the TDS tax.",
            "type": "string"
          },
          "tax_name": {
            "description": "The name of the tax",
            "type": "string"
          },
          "tax_type": {
            "description": "The type of the tax",
            "type": "string"
          },
          "tax_percentage": {
            "description": "The  percentage of tax levied",
            "type": "number",
            "format": "float"
          },
          "tax_treatment_code": {
            "description": "Specify reason for using out of scope.</br>Supported values for <b>UAE</b> are <code>uae_same_tax_group</code>, <code>uae_reimbursed_expense</code> and <code>uae_others</code>.</br> Supported values for <b>Bahrain</b> are <code>bahrain_same_tax_group</code>, <code>bahrain_transfer_of_concern</code>, <code>bahrain_disbursement</code>, <code>bahrain_head_to_branch_transaction</code>, <code>bahrain_warranty_repair_services</code> and <code>bahrain_others</code>.</br>Supported values for <b>Saudi Arabia</b> are <code>ksa_pvt_health</code>, <code>ksa_pvt_edu</code>, <code>ksa_reimbursed_expense</code> and <code>ksa_house_sales</code>.",
            "type": "string"
          },
          "item_total": {
            "description": "The total amount of the line items",
            "type": "number",
            "format": "float"
          },
          "location_id": {
            "description": "Location ID",
            "type": "string"
          }
        }
      }
    },
    "location_id": {
      "description": "Location ID",
      "type": "string"
    },
    "notes": {
      "description": "The notes added below expressing gratitude or for conveying some information.",
      "type": "string"
    },
    "terms": {
      "type": "string"
    },
    "shipping_charge": {
      "description": "Shipping charges applied to the invoice.",
      "type": "string"
    },
    "adjustment": {
      "description": "Adjustments made to the invoice.",
      "type": "number",
      "format": "double"
    },
    "adjustment_description": {
      "description": "Customize the adjustment description. E.g. Rounding off.",
      "type": "string"
    },
    "tax_id": {
      "description": "ID of the tax or tax group applied to the estimate",
      "type": "string"
    },
    "tax_exemption_id": {
      "description": "ID of the tax exemption.",
      "type": "string"
    },
    "tax_authority_id": {
      "description": "ID of the tax authority. Tax authority depends on the location of the customer. For example, if the customer is located in NY, then the tax authority is NY tax authority.",
      "type": "string"
    },
    "avatax_use_code": {
      "description": "Used to group like customers for exemption purposes. It is a custom value that links customers to a tax rule. Select from Avalara [standard codes][1] or enter a custom code.",
      "type": "string"
    },
    "avatax_exempt_no": {
      "description": "Exemption certificate number of the customer.",
      "type": "string"
    },
    "vat_treatment": {
      "description": "(Optional) VAT treatment for the estimates. VAT treatment denotes the location of the customer, if the customer resides in UK then the VAT treatment is <code>uk</code>. If the customer is in an EU country & VAT registered, you are resides in Northen Ireland and selling Goods then his VAT treatment is <code>eu_vat_registered</code>, if he resides outside of the UK then his VAT treatment is <code>overseas</code> (For Pre Brexit, this can be split as <code>eu_vat_registered</code>, <code>eu_vat_not_registered</code> and <code>non_eu</code>).",
      "type": "string"
    },
    "tax_treatment": {
      "description": "VAT treatment for the Estimate. Allowed Values: <code>vat_registered</code>,<code>vat_not_registered</code>,<code>gcc_vat_not_registered</code>,<code>gcc_vat_registered</code>,<code>non_gcc</code>.</br><code>dz_vat_registered</code> and <code>dz_vat_not_registered</code> supported only for <b>UAE.</b></br><code>home_country_mexico</code>,<code>border_region_mexico</code>,<code>non_mexico</code> supported only for <b>MX</b>. <br/><b>For Kenya Edition:</b> <code>vat_registered</code> ,<code>vat_not_registered</code> ,<code>non_kenya</code>(A business that is located outside Kenya).<br/><b>For SouthAfrica Edition:</b> <code>vat_registered</code>, <code>vat_not_registered</code>, <code>overseas</code>(A business that is located outside SouthAfrica).",
      "type": "string"
    },
    "is_reverse_charge_applied": {
      "description": "(Required if customer tax treatment is <code>vat_registered</code>)<br/>Used to specify whether the transaction is applicable for Domestic Reverse Charge (DRC) or not.",
      "type": "boolean"
    },
    "item_id": {
      "description": "ID of the item.",
      "type": "string"
    },
    "line_item_id": {
      "description": "ID of the line item. Mandatory, if the existing line item has to be updated. If empty, a new line item will be created.",
      "type": "string"
    },
    "name": {
      "description": "The name of the line item",
      "type": "string"
    },
    "description": {
      "description": "The description of the line items",
      "type": "string"
    },
    "rate": {
      "description": "Rate of the line item.",
      "type": "number",
      "format": "double"
    },
    "unit": {
      "description": "Unit of the line item e.g. kgs, Nos.",
      "type": "string"
    },
    "quantity": {
      "description": "The quantity of line item",
      "type": "number",
      "format": "double"
    },
    "project_id": {
      "description": "ID of the project",
      "type": "string"
    },
    "accept_retainer": {
      "description": "The accept_retainer node should be passed for the retainer invoice to be created automatically, provided that the customer has accepted the quote. Allowed Values: <code>true</code> and <code>false</code>",
      "type": "boolean"
    },
    "retainer_percentage": {
      "description": "Pass the retainer_percentage node to create the retainer invoice automatically. Allowed Values: <code>0</code> to <code>100</code>",
      "type": "integer"
    }
  },
  "required": [
    "customer_id",
    "custom_fields"
  ],
  "additionalProperties": false
}